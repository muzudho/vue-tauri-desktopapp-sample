<template>
    <p>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã“ã¡ã‚‰ï¼ˆï¼¾â–½ï¼¾ï¼‰ï¼</p>
    <ul>
        <li>ğŸ“– <a target="_blank" :href="desktopappPath">ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªç‰ˆã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</a></li>
        <li>ğŸ“– <a target="_blank" :href="webappPath">ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªç‰ˆã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</a></li>
        <li>ğŸ“– <a target="_blank" :href="warabenturePath">ã“ã®ãƒ¯ãƒ©ãƒ™ãƒ³ãƒãƒ£ãƒ¼ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰</a></li>
    </ul>    
</template>

<script setup lang="ts">

    // ##############
    // # ã‚¤ãƒ³ãƒãƒ¼ãƒˆ #
    // ##############
    //
    // Tauri ãªã‚‰æ˜ç¤ºçš„ã«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚ Nuxt ãªã‚‰è‡ªå‹•ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ãã‚Œã‚‹å ´åˆãŒã‚ã‚‹ã€‚
    //

    import { ref, onMounted } from 'vue';


    // ####################################
    // # ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå—ã‘å–ã‚‹å¼•æ•° #
    // ####################################

    interface Props {
        pagePath?: string | null;  // ãƒšãƒ¼ã‚¸ã®ãƒ‘ã‚¹ã€‚æŒ‡å®šã—ãªã‘ã‚Œã°ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ã®ãƒ‘ã‚¹ã€‚ ä¾‹ï¼š "/making/tile-count-up"
    }
    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®š
    const props = defineProps<Props>();


    // ##############
    // # å…±é€šãƒ‡ãƒ¼ã‚¿ #
    // ##############

    const desktopappPath = ref('');
    const webappPath = ref('');
    const warabenturePath = ref('');


    // ##############
    // # èµ·å‹•æ™‚å‡¦ç† #
    // ##############

    onMounted(() => {
        // ãƒšãƒ¼ã‚¸ãŒãƒã‚¦ãƒ³ãƒˆã•ã‚ŒãŸã¨ãã®å‡¦ç†
        let pagePathWithExtension: string;
        if (props.pagePath == null) {
            // NOTE: window ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼å°‚ç”¨ã€‚ã‚µãƒ¼ãƒãƒ¼å´ã§ã¯ãƒ—ãƒªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã§ããªã„ã®ã§ã€ãƒã‚¦ãƒ³ãƒˆå¾Œã«æ›¸ãã€‚
            pagePathWithExtension = `${window.location.pathname}.vue`;  // ãƒšãƒ¼ã‚¸ã®ãƒ‘ã‚¹ã€‚ ä¾‹ï¼š "/making/tile-count-up"
        } else {
            pagePathWithExtension = `${props.pagePath}.vue`;
        }

        desktopappPath.value = `https://github.com/muzudho/vue-tauri-desktopapp-sample/blob/main/src/pages${pagePathWithExtension}`;
        webappPath.value = `https://github.com/muzudho/vue-nuxt-webapp-sample/blob/main/src/pages${pagePathWithExtension}`;
        warabenturePath.value = `https://github.com/muzudho/Warabenture-2025/blob/main/src/pages${pagePathWithExtension}`;
    });

</script>
